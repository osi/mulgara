@@includeTop@@
 
    <title>Mulgara &#124; Semantic Store - Datatyping Models</title>
    <meta name="keywords" content="Datatyping Models, mulgara project, metadata, metastore, metadatabase, datastore, database, scaleable, scalable, transaction, java, open source, rdf, resource description framework" />
	
@@includeMiddle@@		
   
    <div id="pageNaviBack"></div>
    <div id="pageNavi">
<!-- INNER PAGE NAVIGATION STARTS HERE -->
 
		<a href="/itqloperations/datatypingmodels.html#o263">Creating</a> &#124;
		<a href="/itqloperations/datatypingmodels.html#o264">Loading</a> &#124;
		<a href="/itqloperations/datatypingmodels.html#o265">Querying</a> &#124;
		<a href="/itqloperations/datatypingmodels.html#o266">Limitations</a>

   
<!-- INNER PAGE NAVIGATION ENDS HERE -->
    </div>


	<div id="mainBack">
    	<div id="main">
<!-- PAGE CONTENT STARTS HERE -->





<!--
<p><a href="/itqloperations/fulltextmodels.html"><img src="previous.gif" alt="Previous Topic" height="25px" width="23px" vspace="2" hspace="2" align="bottom" border="0" /></a></p>

<p><a href="/itqloperations/nodetyping.html"><img src="next.gif" alt="Next Topic" height="25px" width="23px" vspace="2" hspace="2" align="bottom" border="0" /></a></p> 


<p class="relatedheading">See Also</p>
<p class="relateditem"><a href="254.htm">Advanced iTQL Operations</a></p>
<p class="relateditem"><a href="/itqloperations/views.html">Views</a></p>
<p class="relateditem"><a href="/itqloperations/fulltextmodels.html">Full-Text Models</a></p>
<p class="relateditem"><a href="/itqloperations/nodetyping.html">Nodetyping Models</a></p>
<p class="relateditem"><a href="/itqloperations/filesysmodel.html">Filesystem Models</a></p>

 -->




<h2>Datatyping Models</h2>

<p>Datatyping models represent the property of orderedness that literals like dates and numbers possess. They are used to constrain results to be above, below, or between specified dates or numbers.</p>

<p>Datatyping models are generally read-only. You do not insert statements into them as you do with standard or full-text models. Conceptually, they contain every true statement about their datatype, such as 1 is less than 2 and Christmas Day is after Christmas Eve.</p>
<div class="anchor"><a name="o263">&nbsp;</a></div>
<h3>Creating Datatyping Models</h3>

<p>Use the <code><a id="h209" class="documentlinktemplate" title="create" href="/itqlcommands/create.html">create</a></code> command with an optional type argument of <code>&lt;http://mulgara.org/mulgara#XMLSchemaModel&gt;</code> in addition to the model name.</p>

<p>For example, to create the datatyping model <code>#xsd</code>:</p>

<p class="commandtext">create &lt;rmi://mysite.com/server1#xsd&gt; &lt;http://mulgara.org/mulgara#XMLSchemaModel&gt;;</p>

<p class="note"><strong>Note -</strong> Generally, there is no need to create more than one datatyping model per Mulgara server.</p>
<div class="anchor"><a name="o264">&nbsp;</a></div>
<h3>Loading Datatyping Models</h3>

<p>As well as having a value, typed literals (such as the number 7.5, as opposed to the untyped text &quot;7.5&quot;) also have a datatype, which is identified by a URI.</p>

<p>The primitive datatypes supported by Mulgara are listed in the following table.</p>
<table width="546" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<th width="144">
<p class="tableheading">Datatype</p>
</th>
<th width="402">
<p class="tableheading">Description</p>
</th>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>string</code></p>
</td>
<td width="402">
<p>Character strings. For example, John</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>boolean</code></p>
</td>
<td width="402">
<p>The mathematical concept of binary-valued logic. For example, true or false</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>decimal</code></p>
</td>
<td width="402">
<p>Arbitrary precision decimal numbers. For example, 1.23</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>float</code></p>
</td>
<td width="402">
<p>Single precision floating point numbers. For example, 1.23E4</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>double</code></p>
</td>
<td width="402">
<p>Double precision floating point numbers. For example, 1.23E4</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>dateTime</code></p>
</td>
<td width="402">
<p>A point in time specified to one second accuracy. For example, 2004-12-24T23:59:59 (one second to Christmas Day 2004, UTC)</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>date</code></p>
</td>
<td width="402">
<p>A point in time specified to one day accuracy.  For example, 2004-12-24 (Christmas Eve 2004)</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>gYearMonth</code></p>
</td>
<td width="402">
<p>A specific gregorian month in a specific gregorian year. For example, 2004-12 (December 2004)</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>gYear</code></p>
</td>
<td width="402">
<p>A gregorian calendar year. For example, 2004</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>gMonthDay</code></p>
</td>
<td width="402">
<p>A day of the year. For example, 12-25 (Christmas Day)</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>gDay</code></p>
</td>
<td width="402">
<p>A day of the month. For example, 25 (25th day of the month)</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>gMonth</code></p>
</td>
<td width="402">
<p>A month of the year. For example, 12 (12th month of the year)</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>hexBinary</code></p>
</td>
<td width="402">
<p>Arbitrary hex-encoded binary data</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>base64Binary</code></p>
</td>
<td width="402">
<p>Arbitrary Base64-encoded binary data</p>
</td>
</tr>

</table>

<p>The primitive datatypes currently <em>not supported</em> by Mulgara are listed the following table.</p>
<table width="546" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<th width="144">
<p class="tableheading">Datatype</p>
</th>
<th width="402">
<p class="tableheading">Description</p>
</th>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>duration</code></p>
</td>
<td width="402">
<p>A duration of time</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>anyURI</code></p>
</td>
<td width="402">
<p>A Uniform Resource Identifier Reference (URI)</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>QName</code></p>
</td>
<td width="402">
<p>Qualified XML names</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>NOTATION</code></p>
</td>
<td width="402">
<p>The NOTATION attribute type</p>
</td>
</tr>

</table>

<p>The derived datatypes currently supported by Mulgara are listed the following table.</p>
<table width="546" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<th width="144">
<p class="tableheading">Datatype</p>
</th>
<th width="402">
<p class="tableheading">Description</p>
</th>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>integer</code></p>
</td>
<td width="402">
<p>Derived from <code>decimal</code> with no fractional digits</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>nonPositiveInteger</code></p>
</td>
<td width="402">
<p>Derived from <code>integer</code> with a maximum value of 0</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>negativeInteger</code></p>
</td>
<td width="402">
<p>Derived from <code>nonPositiveInteger</code> with a maximum value of -1</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>long</code></p>
</td>
<td width="402">
<p>Derived from <code>integer</code> with a maximum value of 9223372036854775807 and a minimum value of -9223372036854775807</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>int</code></p>
</td>
<td width="402">
<p>Derived from <code>long</code> with a maximum value of 2147483647 and a minimum value of -2147483648</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>short</code></p>
</td>
<td width="402">
<p>Derived from <code>int</code> with a maximum value of 32767 and a minimum value of -32767</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>byte</code></p>
</td>
<td width="402">
<p>Derived from <code>short</code> with a maximum value of 127 and a minimum value of -128</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>nonNegativeInteger</code></p>
</td>
<td width="402">
<p>Derived from <code>integer</code> with a minimum value of 0</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>unsignedLong</code></p>
</td>
<td width="402">
<p>Derived from <code>nonNegativeInteger</code> with a maximum value of 18446744073709551615</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>unsignedInt</code></p>
</td>
<td width="402">
<p>Derived from <code>unsignedLong </code>with a maximum value of 4294967295</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>unsignedShort</code></p>
</td>
<td width="402">
<p>Derived from <code>unsignedInt </code>with a maximum value of 65535</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>unsignedByte</code></p>
</td>
<td width="402">
<p>Derived from <code>unsignedShort </code>with a maximum value of 255</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>positiveInteger</code></p>
</td>
<td width="402">
<p>Derived from <code>nonNegativeInteger</code> with a minimum value of 1</p>
</td>
</tr>

</table>

<p>The derived datatypes currently <em>not supported</em> by Mulgara are listed the following table.</p>
<table width="546" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse">
<tr align="left" valign="top">
<th width="144">
<p class="tableheading">Datatype</p>
</th>
<th width="402">
<p class="tableheading">Description</p>
</th>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>normalizedString</code></p>
</td>
<td width="402">
<p>Derived from <code>string</code> without carriage return, line feed or tab characters</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>token</code></p>
</td>
<td width="402">
<p>Derived from <code>normalizedString</code> without leading or trailing spaces and no internal sequences of two or more spaces</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>language</code></p>
</td>
<td width="402">
<p>Derived from <code>token</code> and is the set of all valid language identifiers</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>NMTOKEN</code></p>
</td>
<td width="402">
<p>Derived from <code>token</code> and represents the NMTOKEN attribute type</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>NMTOKENS</code></p>
</td>
<td width="402">
<p>Derived from <code>NMTOKEN</code> and represents the NMTOKENS attribute type</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>Name</code></p>
</td>
<td width="402">
<p>Derived from <code>token</code> and represents XML Names</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>NCName</code></p>
</td>
<td width="402">
<p>Derived from <code>Name</code> and represents XML non-colonized Names</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>ID</code></p>
</td>
<td width="402">
<p>Derived from <code>NCName</code> and represents the ID attribute type</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>IDREF</code></p>
</td>
<td width="402">
<p>Derived from <code>ID</code> and represents the IDREF attribute type</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>IDREFS</code></p>
</td>
<td width="402">
<p>Derived from <code>IDREF</code> and represents the IDREFS attribute type</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>ENTITY</code></p>
</td>
<td width="402">
<p>Derived from <code>NCName</code> and represents the ENTITY attribute type</p>
</td>
</tr>
<tr align="left" valign="top">
<td width="144">
<p><code>ENTITIES</code></p>
</td>
<td width="402">
<p>Derived from <code>ENTITY</code> and represents the ENTITIES attribute type</p>
</td>
</tr>

</table>

<p class="note"><strong>Note -</strong> The URI prefix for all of the datatypes listed above is <code>http://www.w3.org/2001/XMLSchema#</code>. For example <code>http://www.w3.org/2001/XMLSchema#string</code>. More information about these datatypes is in the W3C document <a class="internetlinktemplate" title="" href="http://www.w3.org/TR/xmlschema-2/">XML Schema Part 2: Datatypes</a>.</p>

<p>The syntax to express a typed literal is to separate a literal value and its type with a double-caret (<code>^^</code>).</p>

<p>For example, consider the statement that a text file was created on Christmas Eve 2004. This could be inserted into a model as follows:</p>

<p class="commandtext">insert &lt;file:/nice.txt&gt; &lt;dc:date&gt; '2004-12-24'^^&lt;<code>http://www.w3.org/2001/XMLSchema#date</code>&gt;<br />
  into &lt;rmi://mysite.com/server1#model&gt;;</p>

<p>Remember that the command <code>alias &lt;http://www.w3.org/2001/XMLSchema#&gt; as xsd;</code> allows you to write the insert command as follows:</p>

<p class="commandtext">insert &lt;file:/nice.txt&gt; &lt;dc:date&gt; '2004-12-24'^^&lt;<code>xsd:date</code>&gt;<br />
  into &lt;rmi://mysite.com/server1#model&gt;;</p>

<p>Alternatively, the following could be loaded from an RDF/XML file:</p>

<p class="commandtext">&lt;rdf:RDF xmlns:dc  = &quot;http://purl.org/dc/elements/1.1/&quot;<br />
         xmlns:rdf = &quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;<br />
         xmlns:xsd = &quot;http://www.w3.org/2001/XMLSchema#&quot;&gt;<br />
&lt;rdf:Description rdf:about=&quot;file:/nice.txt&quot;&gt;<br />
  &lt;dc:date rdf:datatype=&quot;http://www.w3.org/2001/XMLSchema#date&quot;&gt; 2004-12-24 &lt;/dc:date&gt;<br />
&lt;/rdf:Description&gt;<br />
&lt;/rdf:RDF&gt;</p>

<p class="note"><strong>Note -</strong> Datatyped statements are loaded into normal models, not datatyping models. Datatyping models cannot be written to, as this would be like trying to redefine the fixed nature of numbers or dates.</p>
<div class="anchor"><a name="o265">&nbsp;</a></div>
<h3>Querying Datatyping Models</h3>

<p>Querying datatyping models is much the same as for normal Mulgara models. Datatyping models contain all statements with the following properties that happen to be true for the relevant datatype:</p>
<ul><li><code>&lt;mulgara:lt&gt;</code>
<p class="listcontinue">The subject is numerically less than the object, where both have a numeric datatype.</p>
</li><li><code>&lt;mulgara:gt&gt;</code>
<p class="listcontinue">The subject is numerically greater than the object, where both have a numeric datatype.</p>
</li><li><code>&lt;mulgara:after&gt;</code>
<p class="listcontinue">The subject occurs after the object, where both have a date datatype. That is, <code>xsd:date</code>, <code>xsd:dateTime</code>, <code>xsd:gYear</code> and <code>xsd:gYearMonth</code></p>
</li><li><code>&lt;mulgara:before&gt;</code>
<p class="listcontinue">The subject occurs before the object, where both have a date datatype. That is, <code>xsd:date</code>, <code>xsd:dateTime</code>, <code>xsd:gYear</code> and <code>xsd:gYearMonth</code></p>
</li></ul>
<p class="note"><strong>Note -</strong> The datatypes listed above assume a prior <code>alias &lt;http://www.w3.org/2001/XMLSchema#&gt; as xsd;</code> command was performed.</p>

<p>See the <a id="h2996" class="documentlinktemplate" title="Loading Datatyping Models" href="/itqloperations/datatypingmodels.html#o264">Loading Datatyping Models section</a> for more information on the datatypes supported by Mulgara.</p>

<p>To use a datatyping model in a query, compose a constraint with one of the above properties and direct it at the XML Schema model with the <code><a id="h206" class="documentlinktemplate" title="where Clause" href="/itqlcommands/select.html#o197">in</a></code> clause. For example, the following query lists all resources from the 19th century:</p>

<p class="commandtext">select $doc from &lt;rmi://mysite.com/server1#model&gt;<br />
  where $doc &lt;dc:date&gt; $date<br />
    and $date &lt;mulgara:before&gt; '2000-01-01' in &lt;rmi://mysite.com/server1#xsd&gt;<br />
    and $date &lt;mulgara:after&gt;  '1899-12-31' in &lt;rmi://mysite.com/server1#xsd&gt;;</p>
<div class="anchor"><a name="o266">&nbsp;</a></div>
<h3>Limitations of Datatyping Models</h3>

<p>Datatyping models have the following limitations:</p>
<ul><li>Mulgara treats values with the <code>xsd:date</code> datatype as midnight of the corresponding day.</li><li>For <code>xsd:dateTime</code>, Mulgara does not parse time zones.</li><li>Constraints containing variables for both the subject and object may not work when applied to a datatyping model.</li><li><code>xsd:decimal</code> and its derived types are currently only implemented as a 64-bit long and are not arbitrary-precision.</li></ul>

			
    





@@includeBottom@@


