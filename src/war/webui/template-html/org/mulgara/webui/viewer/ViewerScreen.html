<html id="ViewerScreen">
<head>
  <title>Mulgara Viewer</title>
  <script language="JavaScript" type="text/javascript">

    <!--

    // Put the selected example query into the query text area. The model
    // name is also inserted in to the query.
    function setQuery() {

      // Must have a Model URI
      if (document.QueryForm.ModelURI.value == '') {
        alert('Please enter a Model URI and then select the query again');
        document.QueryForm.ModelURI.focus;
        return;
      }

      var index = document.QueryForm.ExampleQuery.selectedIndex;
      var exampleText = document.QueryForm.ExampleQuery[index].value;
      var modelURI= document.QueryForm.ModelURI.value;
      // Add the model name
      var queryString = exampleText.replace(/-model-/gi, modelURI);

      document.QueryForm.QueryText.value = queryString;
    }

    //
    // Validate the form and submit it if all is OK
    //
    function validateAndSubmit() {

      // Is there a query?
      if (document.QueryForm.QueryText.value == null ||
          document.QueryForm.QueryText.value == "") {
        alert('Please enter a query');
        document.QueryForm.QueryText.focus();
        return false;
      }
      // Submit the form
      else {
        document.QueryForm.submit();
        return true;
      }
    }

    //-->

  </script>
<link media="all" href="/all.css" type="text/css" title="Default" rel="stylesheet"/>
<link media="screen" href="/default.css" type="text/css" title="Default" rel="stylesheet"/>
<link media="print" href="/print.css" type="text/css" rel="stylesheet"/>
<link href="/burnt.css" title="Burnt" media="screen" type="text/css" rel="alternate stylesheet"/>
<link rel="icon" type="text/png" href="/images/icons/siteicon.png"/>
<link rel="shortcut icon" type="text/png" href="/images/icons/siteicon.png"/>
</head>
<body>
<div id="container">

  <!-- Banner -->
  <div id="banner">
    <h1>mulgara.sourceforge.net</h1>
  </div>

  <!-- Content -->
  <div id="content">

  <form action="ExecuteQuery.event" name="QueryForm" method="post">
    <table summary="" cellpadding="5" border="0">
      <tr>
        <td>
        <table summary="Enter a query" cellpadding="5">
          <tr>
            <td><strong>Model URI: </strong></td>
            <td>
              <input id="ModelURI" name="ModelURI" type="text" value="rmi://localhost/aserver#amodel" size="60">
            </td>
          </tr>
          <tr>
            <td> <strong>Example Queries: </strong> </td>
            <td>
              <select id="ExampleQuery" name="ExampleQuery" onChange="javascript:setQuery()">
                <option value="">Choose a Query..</option>
                <option value="create <-model->;">Step 1: Create a model</option>
                <option value="load <file:/somefile.rdf> into <-model->;">Step
                2: Load the data</option>
                <option value="select $0 from <-model-> where $S $P $O;">Step
                3: Select the titles</option>
              </select>
            </td>
          </tr>
          <tr>
            <td> <strong>Query Text: </strong> </td>
            <td>
              <textarea id ="QueryText" name="QueryText" cols="80" rows="10"></textarea>
            </td>
          </tr>
          <tr>
            <td>&nbsp; </td>
            <td align="left">
              <img alt="Submit Query" id="SubmitQuery" border="0" src="images/btn_submit.gif" width="83" height="21">
              <img alt="Clear Query" border="0" onClick="javascript:document.QueryForm.QueryText.value='';" src="images/btn_clear.gif" width="71" height="21">
            </td>
          </tr>
        </table>
        </td>
      </tr>
      <tr id="ResultRow">
        <td id="ResultCell">
          <table summary="" width="100%" cellpadding="5" border="0">
            <tr>
              <td>
                <strong><span class="largetext">Results:</span></strong>
              </td>
              <td nowrap>
                <span id="ResultStats" class="smalltext" >(1 query, 2.452 seconds)</span>
              </td>
            </tr>
            <tr id="ResultQueryRow">
              <td nowrap>
                <strong>Query Executed:</strong><br>
              </td>
              <td width="100%" valign="top">
                <span id="QueryExecuted">select blah</span>
              </td>
            </tr>
            <tr id="ResultMessageRow">
              <td nowrap>
                <strong>Result Message: </strong>
              </td>
              <td width="100%">
                <span id="ResultMessage">Some message about a query</span>
              </td>
            </tr>
            <tr id="ResultTableRow">
              <td id="ResultTableCell" colspan="2">
                <table id="ResultTable" summary="Results table" cellspacing="0" cellpadding="5" border="1">
                  <tr bgcolor="CCCCCC">
                    <td>
                      <strong>Column Heading</strong>
                    </td>
                  </tr>
                  <tr>
                    <td nowrap>
                      <a href="dummy.html">A resource result</a>
                      <span>A text result</span>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
            <tr id="ResultScrollRow">
              <td colspan="2">
                <table align="left" cellpadding="0" cellspacing="0">
                  <tr>
                    <td nowrap>
                      <!-- FIXME when API is better! -->
                      <!-- <a href="" id="ResultStartLink"   alt="Back to start of results"         title="Back to start of results">|&lt;</a> &nbsp; -->
                      <!-- <a href="" id="ResultBackLink"    alt="Back to previous page of results" title="Back to previous page of results">&lt;&lt;</a> &nbsp;&nbsp; -->
                      <a href="" id="ResultForwardLink" alt="Forward to next page of results"  title="Forward to next page of results">Next page &gt;</a> &nbsp;
                      <!-- <a href="" id="ResultEndLink"     alt="Forward to end of results"        title="Forward to end of results">&gt;|</a> -->
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </form>
</div></div>
</body>
</html>
